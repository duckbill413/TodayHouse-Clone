<?xml version="1.0" encoding="UTF-8"?>
<testsuite name="server.team_a.todayhouse.repository.ReviewRepositoryTest" tests="1" skipped="0" failures="0" errors="0" timestamp="2023-01-12T03:20:23" hostname="DUCKBILL" time="0.561">
  <properties/>
  <testcase name="reviewGradeTest()" classname="server.team_a.todayhouse.repository.ReviewRepositoryTest" time="0.561"/>
  <system-out><![CDATA[12:19:59.964 [Test worker] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating CacheAwareContextLoaderDelegate from class [org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate]
12:20:00.005 [Test worker] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating BootstrapContext using constructor [public org.springframework.test.context.support.DefaultBootstrapContext(java.lang.Class,org.springframework.test.context.CacheAwareContextLoaderDelegate)]
12:20:00.102 [Test worker] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating TestContextBootstrapper for test class [server.team_a.todayhouse.repository.ReviewRepositoryTest] from class [org.springframework.boot.test.context.SpringBootTestContextBootstrapper]
12:20:00.128 [Test worker] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [server.team_a.todayhouse.repository.ReviewRepositoryTest], using SpringBootContextLoader
12:20:00.138 [Test worker] DEBUG org.springframework.test.context.support.AbstractContextLoader - Did not detect default resource location for test class [server.team_a.todayhouse.repository.ReviewRepositoryTest]: class path resource [server/team_a/todayhouse/repository/ReviewRepositoryTest-context.xml] does not exist
12:20:00.139 [Test worker] DEBUG org.springframework.test.context.support.AbstractContextLoader - Did not detect default resource location for test class [server.team_a.todayhouse.repository.ReviewRepositoryTest]: class path resource [server/team_a/todayhouse/repository/ReviewRepositoryTestContext.groovy] does not exist
12:20:00.140 [Test worker] INFO org.springframework.test.context.support.AbstractContextLoader - Could not detect default resource locations for test class [server.team_a.todayhouse.repository.ReviewRepositoryTest]: no resource found for suffixes {-context.xml, Context.groovy}.
12:20:00.142 [Test worker] INFO org.springframework.test.context.support.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [server.team_a.todayhouse.repository.ReviewRepositoryTest]: ReviewRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
12:20:00.265 [Test worker] DEBUG org.springframework.test.context.support.ActiveProfilesUtils - Could not find an 'annotation declaring class' for annotation type [org.springframework.test.context.ActiveProfiles] and class [server.team_a.todayhouse.repository.ReviewRepositoryTest]
12:20:00.497 [Test worker] DEBUG org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider - Identified candidate component class: file [D:\Code\Git\todayhouse_server_lucas_jeno\todayhouse_server\build\classes\java\main\server\team_a\todayhouse\TodayhouseServerApplication.class]
12:20:00.500 [Test worker] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration server.team_a.todayhouse.TodayhouseServerApplication for test class server.team_a.todayhouse.repository.ReviewRepositoryTest
12:20:00.772 [Test worker] DEBUG org.springframework.boot.test.context.SpringBootTestContextBootstrapper - @TestExecutionListeners is not present for class [server.team_a.todayhouse.repository.ReviewRepositoryTest]: using defaults.
12:20:00.773 [Test worker] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
12:20:00.812 [Test worker] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@1f2d2181, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@49bf29c6, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@7ee55e70, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@3fcdcf, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@7668d560, org.springframework.test.context.support.DirtiesContextTestExecutionListener@46292372, org.springframework.test.context.transaction.TransactionalTestExecutionListener@126be319, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@6c44052e, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@5c371e13, org.springframework.test.context.event.EventPublishingTestExecutionListener@530a8454, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@1e34c607, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@5215cd9a, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@36b6964d, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@31198ceb, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@9257031, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@75201592, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@7726e185]
12:20:00.822 [Test worker] DEBUG org.springframework.test.context.support.AbstractDirtiesContextTestExecutionListener - Before test class: context [DefaultTestContext@44ea608c testClass = ReviewRepositoryTest, testInstance = [null], testMethod = [null], testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@50cf5a23 testClass = ReviewRepositoryTest, locations = '{}', classes = '{class server.team_a.todayhouse.TodayhouseServerApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@11eadcba, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@3a62c01e, org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@5357c287, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@2b43529a, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@5d018107, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@5a37d3ed], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true]], class annotated with @DirtiesContext [false] with mode [null].

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v2.7.7)

2023-01-12 12:20:02.035  INFO 6696 --- [    Test worker] s.t.t.repository.ReviewRepositoryTest    : Starting ReviewRepositoryTest using Java 11.0.17 on DuckBill with PID 6696 (started by uhyeo in D:\Code\Git\todayhouse_server_lucas_jeno\todayhouse_server)
2023-01-12 12:20:02.039  INFO 6696 --- [    Test worker] s.t.t.repository.ReviewRepositoryTest    : No active profile set, falling back to 1 default profile: "default"
2023-01-12 12:20:05.332  INFO 6696 --- [    Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-01-12 12:20:05.604  INFO 6696 --- [    Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 255 ms. Found 11 JPA repository interfaces.
2023-01-12 12:20:07.775  INFO 6696 --- [    Test worker] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-01-12 12:20:07.926  INFO 6696 --- [    Test worker] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.14.Final
2023-01-12 12:20:08.403  INFO 6696 --- [    Test worker] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-01-12 12:20:08.761  INFO 6696 --- [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-01-12 12:20:09.790  INFO 6696 --- [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-01-12 12:20:09.846  INFO 6696 --- [    Test worker] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2023-01-12 12:20:13.260  INFO 6696 --- [    Test worker] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-01-12 12:20:13.286  INFO 6696 --- [    Test worker] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-01-12 12:20:17.110  WARN 6696 --- [    Test worker] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-01-12 12:20:18.625  INFO 6696 --- [    Test worker] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@f4cfc61, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@64d7737c, org.springframework.security.web.context.SecurityContextPersistenceFilter@22816de1, org.springframework.security.web.header.HeaderWriterFilter@4fddd42b, org.springframework.web.filter.CorsFilter@b632594, org.springframework.security.web.authentication.logout.LogoutFilter@6988dc14, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@11101f62, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@3f96ef2, server.team_a.todayhouse.security.filter.CustomUsersLoginFilter@4c822e9b, server.team_a.todayhouse.security.filter.JWTTokenCheckFilter@24456c9e, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@47ba8e3c, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@7bd6a7f9, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5434de8, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2c84d6c4, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@690b6292, org.springframework.security.web.session.SessionManagementFilter@2411cf8b, org.springframework.security.web.access.ExceptionTranslationFilter@6415112c]
2023-01-12 12:20:19.771  INFO 6696 --- [    Test worker] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2023-01-12 12:20:21.151  WARN 6696 --- [    Test worker] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Ant [pattern='/swagger-ui/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2023-01-12 12:20:21.151  INFO 6696 --- [    Test worker] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Ant [pattern='/swagger-ui/**']
2023-01-12 12:20:21.153  WARN 6696 --- [    Test worker] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Ant [pattern='/css/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2023-01-12 12:20:21.153  INFO 6696 --- [    Test worker] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Ant [pattern='/css/**']
2023-01-12 12:20:21.154  WARN 6696 --- [    Test worker] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Ant [pattern='/js/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2023-01-12 12:20:21.154  INFO 6696 --- [    Test worker] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Ant [pattern='/js/**']
2023-01-12 12:20:21.154  WARN 6696 --- [    Test worker] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Ant [pattern='/images/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2023-01-12 12:20:21.155  INFO 6696 --- [    Test worker] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Ant [pattern='/images/**']
2023-01-12 12:20:21.155  WARN 6696 --- [    Test worker] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Ant [pattern='/error']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2023-01-12 12:20:21.156  INFO 6696 --- [    Test worker] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Ant [pattern='/error']
2023-01-12 12:20:21.156  WARN 6696 --- [    Test worker] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore org.springframework.boot.autoconfigure.security.servlet.StaticResourceRequest$StaticResourceRequestMatcher@79bc29aa. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2023-01-12 12:20:21.156  INFO 6696 --- [    Test worker] o.s.s.web.DefaultSecurityFilterChain     : Will not secure org.springframework.boot.autoconfigure.security.servlet.StaticResourceRequest$StaticResourceRequestMatcher@79bc29aa
2023-01-12 12:20:23.340  INFO 6696 --- [    Test worker] s.t.t.repository.ReviewRepositoryTest    : Started ReviewRepositoryTest in 22.427 seconds (JVM running for 25.958)
2023-01-12 12:20:23.432  INFO 6696 --- [    Test worker] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test context [DefaultTestContext@44ea608c testClass = ReviewRepositoryTest, testInstance = server.team_a.todayhouse.repository.ReviewRepositoryTest@30722243, testMethod = reviewGradeTest@ReviewRepositoryTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@50cf5a23 testClass = ReviewRepositoryTest, locations = '{}', classes = '{class server.team_a.todayhouse.TodayhouseServerApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@11eadcba, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@3a62c01e, org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@5357c287, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@2b43529a, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@5d018107, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@5a37d3ed], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@547a79cd]; rollback [true]
Hibernate: 
    select
        product0_.idx as idx1_5_0_,
        product0_.created_at as created_2_5_0_,
        product0_.updated_at as updated_3_5_0_,
        product0_.body as body4_5_0_,
        product0_.category as category5_5_0_,
        product0_.cost as cost6_5_0_,
        product0_.delivery as delivery7_5_0_,
        product0_.discount as discount8_5_0_,
        product0_.total as total9_5_0_,
        product0_.deleted as deleted10_5_0_,
        product0_.grade as grade11_5_0_,
        product0_.shop_name as shop_na12_5_0_,
        product0_.title as title13_5_0_,
        product0_.users_idx as users_i14_5_0_,
        users1_.idx as idx1_10_1_,
        users1_.created_at as created_2_10_1_,
        users1_.updated_at as updated_3_10_1_,
        users1_.address as address4_10_1_,
        users1_.zipcode as zipcode5_10_1_,
        users1_.deleted as deleted6_10_1_,
        users1_.email as email7_10_1_,
        users1_.introduce as introduc8_10_1_,
        users1_.nickname as nickname9_10_1_,
        users1_.password as passwor10_10_1_,
        users1_.phone_number as phone_n11_10_1_,
        users1_.profile_img as profile12_10_1_,
        users1_.shop_name as shop_na13_10_1_,
        users1_.social as social14_10_1_,
        users1_.thumbnail_image as thumbna15_10_1_ 
    from
        product product0_ 
    left outer join
        user users1_ 
            on product0_.users_idx=users1_.idx 
    where
        product0_.idx=? 
        and (
            product0_.deleted = 0
        )
Hibernate: 
    select
        sum(review0_.grade) as col_0_0_,
        count(review0_.idx) as col_1_0_ 
    from
        review review0_ 
    where
        (
            review0_.deleted = 0
        ) 
        and review0_.product_idx=?
>>>>> sum: 14.0
>>>>> count: 3
>>>>> grade: 4.666666666666667
Hibernate: 
    select
        count(scrap0_.idx) as col_0_0_ 
    from
        scrap scrap0_ 
    left outer join
        product product1_ 
            on scrap0_.product_idx=product1_.idx 
    where
        (
            scrap0_.deleted = 0
        ) 
        and product1_.idx=?
>>>>> scrap count: 1
2023-01-12 12:20:23.946  INFO 6696 --- [    Test worker] o.s.t.c.transaction.TransactionContext   : Rolled back transaction for test: [DefaultTestContext@44ea608c testClass = ReviewRepositoryTest, testInstance = server.team_a.todayhouse.repository.ReviewRepositoryTest@30722243, testMethod = reviewGradeTest@ReviewRepositoryTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@50cf5a23 testClass = ReviewRepositoryTest, locations = '{}', classes = '{class server.team_a.todayhouse.TodayhouseServerApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@11eadcba, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@3a62c01e, org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@5357c287, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@2b43529a, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@5d018107, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@5a37d3ed], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]
]]></system-out>
  <system-err><![CDATA[]]></system-err>
</testsuite>
